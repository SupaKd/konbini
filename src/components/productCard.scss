/* src/components/ProductCard.scss — mobile-first */
@import "../styles/_variables.scss";

/* Carte */
.product {
  display: flex;
  flex-direction: column;
  height: 100%;
  overflow: hidden;
  background: #fff;
  border: 1.5px solid $ink;
  border-radius: $radius;
  box-shadow: $shadow;

  .product__body {
    display: flex;
    flex-direction: column;
    gap: 0.6rem;
    padding: 0.9rem;
  }
  h3 {
    margin: 0;
    font-size: 1rem;
    line-height: 1.2;
    a {
      color: inherit;
      text-decoration: none;
    }
  }
}

/* Image */
.product__imgWrap {
  position: relative;
  aspect-ratio: 1 / 1;
  overflow: hidden;
  background: #f7f7f7;
  border-bottom: 1px solid $ink;

  img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
    transition: transform 0.25s ease;
  }
  &:hover img {
    transform: scale(1.03);
  }
}
.product__tag {
  position: absolute;
  left: 0.6rem;
  top: 0.6rem;
}

/* Rating */
.product__rating {
  display: flex;
  align-items: center;
  flex-wrap: wrap;
  gap: 0.35rem;
  font-size: 0.85rem;
  color: $muted;
  .stars {
    letter-spacing: 0.08rem;
    font-size: 1rem;
    color: #f5a524;
  }
  .count,
  .origin {
    opacity: 0.8;
  }
}

/* Prix + actions */
.product__meta {
  margin-top: auto;
  display: grid;
  gap: 0.6rem;

  .price {
    font-weight: 900;
    white-space: nowrap;
    del {
      margin-left: 0.5rem;
      opacity: 0.6;
      font-weight: 600;
    }
  }

  .btn,
  .btn--outline {
    width: 100%;
    justify-content: center;
    padding: 0.6rem 0.9rem;
    font-size: 0.9rem;
  }

  /* boutons côte à côte si la place le permet */
  > div {
    display: grid;
    grid-template-columns: 1fr;
    gap: 0.4rem;
  }
}

/* Grille de produits */
.products-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: 1rem;
}

/* ≥ 480px */
@media (min-width: 480px) {
  .products-grid {
    grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
  }
}

/* ≥ 640px */
@media (min-width: 640px) {
  .product__meta > div {
    grid-template-columns: auto auto;
    justify-content: start;
  }
  .btn,
  .btn--outline {
    width: auto;
  }
}

/* Dark mode */
:root[data-theme="dark"] {
  .product {
    background: #0f1629;
    border-color: #e6e8ef;
    box-shadow: none;
  }
  .product__imgWrap {
    background: #0f1629;
    border-color: #e6e8ef;
  }
  .product__rating .stars {
    color: #e7b416;
  }
}
